// âœ… Task 1: Declare The Task Array and The Interval ID
let oneTimeTasks = [];
let monitoringTaskId = null;

// âœ… Task 2: Add One-Time Task Function
function addOneTimeTask(func, delay) {
  oneTimeTasks.push({ func, delay });
}

// âœ… Task 3: Run One-Time Tasks Function
function runOneTimeTasks() {
  for (const task of oneTimeTasks) {
    setTimeout(task.func, task.delay);
  }
}

// âœ… Task 4: Start Monitoring Function
function startMonitoring() {
  monitoringTaskId = setInterval(() => {
    console.log("ðŸ” Monitoring space station conditions...");
  }, 3000); // every 3 seconds
}

// âœ… Task 5: Stop Monitoring Function
function stopMonitoring() {
  if (monitoringTaskId !== null) {
    clearInterval(monitoringTaskId);
    console.log("ðŸ›‘ Monitoring stopped.");
  }
}

// âœ… Task 6: Start Countdown Function
function startCountdown(duration) {
  let timeLeft = duration;
  const countdownId = setInterval(() => {
    if (timeLeft > 0) {
      console.log(`ðŸš€ Launching in ${timeLeft}...`);
      timeLeft--;
    } else {
      clearInterval(countdownId);
      console.log("ðŸ”¥ Liftoff!");
    }
  }, 1000);
}

// âœ… Task 7: Schedule Pre-Launch Activities and Launch
function scheduleMission() {
  console.log("ðŸ›°ï¸ Initiating mission schedule...");

  addOneTimeTask(() => {
    console.log("âœ… Pre-launch system check complete.");
  }, 1000);

  addOneTimeTask(() => {
    console.log("ðŸ“¡ Starting monitoring systems.");
    startMonitoring();
  }, 2000);

  addOneTimeTask(() => {
    console.log("â›” Ending monitoring before launch.");
    stopMonitoring();
  }, 10000);

  addOneTimeTask(() => {
    console.log("ðŸ§¨ Countdown starting...");
    startCountdown(5);
  }, 11000);

  runOneTimeTasks();
}

scheduleMission(); // Starts the mission
